<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>รายนามผู้บริจาคเงินสร้างโดม</title>
    <!-- Bootstrap 5.3.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <!-- Bootstrap Icons (for currency and people icons) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Google Fonts - Sarabun -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    <!-- Google Fonts - Sriracha (Added) -->
    <link href="https://fonts.googleapis.com/css2?family=Sriracha&display=swap" rel="stylesheet">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="style.css">
    <!--<style></style>-->
</head>
<body>
    <div class="container-fluid">
        <!-- Status Message (This div is now effectively unused as SweetAlert handles messages) -->
        <div id="statusMessage" class="alert d-none text-center my-3" role="alert"></div>

        <!-- Home Page -->
        <div id="homePage" class="card mx-auto">
            <div class="banner-container">
                <h2 class="text-center mb-4 text-primary">รายนามผู้บริจาคเงินสร้างโดม</h2>
                <img src="img/Banner2.png" alt="Banner" class="img-fluid rounded-top-4">
            </div>
            <!--<div class="logo-container">
                <img src="https://www.chaiwit.ac.th/web/wp-content/uploads/2022/06/chaiwitlogo.png" alt="Chaiwit Logo" onerror="this.onerror=null;this.src='https://placehold.co/150x150/cccccc/333333?text=Logo';" loading="lazy">
            </div>-->
         <div class="card-body-padded-content">
            <!--<h2 class="text-center mb-4 text-primary">รายนามผู้บริจาคเงินสร้างโดม</h2> -->

            <!-- Summary Section - Responsive layout for mobile -->
             
             
            <div class="row mb-4 g-3">
                <div class="col-6">
                    <div class="summary-box summary-amount-box">
                        <i class="bi bi-cash-coin"></i> <!-- Removed me-2 to allow stacking -->
                        <span class="fw-bold fs-2 font-sriracha"><span id="totalAmount" >0</span> บาท</span>
                    </div>
                </div>
                <div class="col-6">
                    <div class="summary-box summary-donors-box">
                        <i class="bi bi-people-fill"></i> <!-- Removed me-2 to allow stacking -->
                        <span class="fw-bold fs-2 font-sriracha"><span id="totalDonors">0</span> คน</span>
                    </div>
                </div>
            </div>

            <!-- Search and Add Button - Responsive layout for mobile -->
            <div class="row mb-3 g-3 align-items-center">
                <!-- Button for mobile (top), then for desktop (right) -->
                <div class="col-12 col-md-4 text-center text-md-end order-md-last">
                    <!-- Changed class from btn-primary to btn-success for dark blue color -->
                    <button id="showDonationFormBtn" class="btn btn-success rounded-pill shadow-sm text-nowrap w-100">แจ้งข้อมูลการโอนเงิน</button>
                </div>
                <!-- Search input and category dropdown -->
                <div class="col-12 col-md-8 order-md-first d-flex">
                    <select id="searchCategory" class="form-select me-2 border-primary shadow-sm" style="width: auto;">
                        <option value="all">ค้นหา: ทั้งหมด</option>
                        <option value="fullName">ค้นหา: ชื่อผู้บริจาค</option>
                        <option value="transferDate">ค้นหา: วันที่แจ้งโอนเงิน</option>
                        <option value="amount">ค้นหา: จำนวนเงิน</option>
                        <option value="occupation">ค้นหา: รุ่น/อาชีพ</option>
                    </select>
                    <input type="text" id="searchInput" class="form-control border-primary shadow-sm" placeholder="กรอกคำค้นหา...">
                </div>
            </div>

            <!-- Data Table -->
            <div class="table-responsive rounded-4 shadow-sm">
                <table id="donorsTable" class="table table-hover table-striped mb-0">
                    <thead class="bg-primary text-white">
                        <tr>
                            <th scope="col">ที่</th>
                            <th scope="col" id="headerFullName" data-sort-key="ชื่อ-นามสกุล">ผู้บริจาคเงิน <span class="sort-icon"></span></th>
                            <th scope="col" id="headerOccupation" data-sort-key="รุ่น/อาชีพ">รุ่น/อาชีพ <span class="sort-icon"></span></th>
                            <th scope="col" id="headerAmount" data-sort-key="จำนวนเงิน">จำนวนเงิน <span class="sort-icon"></span></th>
                            <th scope="col" id="headerTransferDate" data-sort-key="วันที่แจ้งโอนเงิน">วันที่แจ้งโอนเงิน <span class="sort-icon"></span></th>
                        </tr>
                    </thead>
                    <tbody id="donorsTableBody">
                        <!-- Data will be populated here by JavaScript or loading message -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination Controls (Changed to number buttons) -->
            <div class="d-flex justify-content-center align-items-center flex-wrap mt-3">
                <div id="paginationButtons">
                    <!-- Page number buttons will be dynamically inserted here -->
                </div>
            </div>
         </div>
        </div>

        <!-- Donation Form Page -->
        <div id="donationFormPage" class="card p-4 mx-auto d-none">
            <h2 class="text-center mb-4 text-primary">บันทึกแจ้งโอนเงิน</h2>
            <form id="donationForm">
                <div class="row mb-3 g-2">
                    <!-- Date Input -->
                    <div class="col-6 col-md-6"> <!-- Added col-6 here -->
                        <label for="transferDate" class="form-label fw-bold">วันที่แจ้งโอนเงิน:</label>
                        <input type="text" class="form-control border-secondary" id="transferDate" readonly>
                    </div>
                    <!-- Time Input -->
                    <div class="col-6 col-md-6"> <!-- Added col-6 here -->
                        <label for="transferTime" class="form-label fw-bold">เวลาแจ้งโอนเงิน:</label>
                        <input type="time" class="form-control border-secondary" id="transferTime" readonly>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="fullName" class="form-label fw-bold">ชื่อ-นามสกุล:</label>
                    <input type="text" class="form-control border-secondary" id="fullName" placeholder="กรอกชื่อ-นามสกุล" required>
                </div>
                <div class="mb-3">
                    <label for="occupation" class="form-label fw-bold">รุ่น/อาชีพ:</label>
                    <input type="text" class="form-control border-secondary" id="occupation" placeholder="กรอกรุ่น/อาชีพ" required>
                </div>
                <div class="mb-3">
                    <label for="phoneNumber" class="form-label fw-bold">เบอร์โทร:</label>
                    <input type="tel" class="form-control border-secondary" id="phoneNumber" placeholder="กรอกเบอร์โทร" required>
                </div>
                <div class="mb-3">
                    <label for="amount" class="form-label fw-bold">จำนวนเงิน:</label>
                    <input type="number" class="form-control border-secondary" id="amount" placeholder="กรอกจำนวนเงิน" required min="1">
                </div>
                <div class="mb-3">
                    <label for="donationDate" class="form-label fw-bold">วันที่โอนเงิน:</label>
                    <input type="date" class="form-control border-secondary" id="donationDate" required>
                </div>
                <div class="mb-4">
                    <label for="slipImage" class="form-label fw-bold">แนบสลิปโอนเงิน:</label>
                    <input type="file" class="form-control border-secondary" id="slipImage" accept="image/*" required>
                    <small class="form-text text-muted ms-2">รองรับไฟล์รูปภาพเท่านั้น</small>
                </div>
                <div class="row g-2">
                    <div class="col-6">
                        <button type="submit" class="btn btn-success btn-lg rounded-pill shadow-sm w-100">บันทึกข้อมูล</button>
                    </div>
                    <div class="col-6">
                        <button type="button" id="backToHomeBtn" class="btn btn-primary btn-lg rounded-pill shadow-sm w-100">ยกเลิก</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap 5.3.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <script src="script.js"></script>

    <!--<script></script>-->

</body>
</html>
